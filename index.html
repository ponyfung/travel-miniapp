<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æˆ‘çš„æ—…è¡Œ App</title>
    <style>
        /* --- iOS é¢¨æ ¼è¨­è¨ˆ --- */
        :root {
            --primary-color: #007aff;
            --bg-color: #f2f2f7;
            --card-bg: #ffffff;
            --text-main: #000000;
            --text-sub: #8e8e93;
            --gradient-blue: linear-gradient(135deg, #007aff 0%, #5ac8fa 100%);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            padding-bottom: 90px;
            -webkit-tap-highlight-color: transparent;
            color: var(--text-main);
        }

        /* é ‚éƒ¨ Header */
        .header {
            background: var(--gradient-blue);
            color: white;
            padding: 40px 20px 20px 20px;
            border-bottom-left-radius: 24px;
            border-bottom-right-radius: 24px;
            box-shadow: 0 4px 12px rgba(0,122,255,0.3);
            margin-bottom: 20px;
        }
        .header h1 { margin: 0; font-size: 28px; font-weight: 700; }
        .header p { margin: 5px 0 0; opacity: 0.9; font-size: 14px; }

        /* å¡ç‰‡å®¹å™¨ */
        .container { padding: 0 16px; }
        
        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }

        h2 { font-size: 18px; margin: 0 0 12px 0; font-weight: 600; display: flex; justify-content: space-between; align-items: center; }

        /* --- è¼¸å…¥æ¡†æ¨£å¼ --- */
        .input-row {
            display: flex; gap: 10px; margin-bottom: 15px;
        }
        input[type="text"], input[type="time"] {
            background: #f2f2f7; border: none; padding: 10px 12px;
            border-radius: 10px; flex: 1; font-size: 16px;
        }
        .add-btn {
            background: var(--primary-color); color: white; border: none;
            width: 40px; border-radius: 10px; font-size: 20px; display: flex;
            align-items: center; justify-content: center; cursor: pointer;
        }

        /* --- åˆ—è¡¨æ¨£å¼ --- */
        .list-item {
            display: flex; align-items: center; padding: 12px 0;
            border-bottom: 1px solid #f2f2f7; transition: all 0.2s;
        }
        .list-item:last-child { border-bottom: none; }
        
        /* æ‰“å‹¾å¾Œçš„æ¨£å¼ */
        .list-item.completed span {
            text-decoration: line-through; color: var(--text-sub);
        }
        .checkbox {
            width: 22px; height: 22px; border-radius: 50%; border: 2px solid #c7c7cc;
            margin-right: 12px; display: flex; align-items: center; justify-content: center;
            transition: all 0.2s;
        }
        .list-item.completed .checkbox {
            background: var(--primary-color); border-color: var(--primary-color);
        }
        .list-item.completed .checkbox::after {
            content: 'âœ“'; color: white; font-size: 14px;
        }
        .delete-btn {
            color: #ff3b30; font-size: 12px; margin-left: auto; padding: 5px;
        }

        /* --- è¡Œç¨‹è¡¨æ¨£å¼ --- */
        .timeline-item {
            display: flex; margin-bottom: 15px; position: relative;
        }
        .timeline-time {
            font-weight: 600; color: var(--primary-color); width: 50px; flex-shrink: 0;
        }
        .timeline-content {
            background: #f9f9f9; padding: 10px; border-radius: 8px; flex: 1;
        }

        /* --- æ™¯é»åœ–ç‰‡ --- */
        .spot-img {
            width: 100%; height: 140px; object-fit: cover; border-radius: 10px; margin-bottom: 8px;
        }
        .map-link {
            display: inline-block; margin-top: 8px; color: var(--primary-color);
            text-decoration: none; font-size: 14px; font-weight: 500;
        }

        /* --- åº•éƒ¨å°è¦½åˆ— --- */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-top: 0.5px solid #c6c6c8;
            display: flex; justify-content: space-around;
            padding: 10px 0 25px 0; z-index: 1000;
        }
        .nav-item {
            text-align: center; font-size: 10px; color: #999; width: 25%;
        }
        .nav-item.active { color: var(--primary-color); }
        .nav-icon { font-size: 24px; display: block; margin-bottom: 2px; }

        /* é é¢åˆ‡æ› */
        .page { display: none; animation: fadeIn 0.2s; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    </style>
</head>
<body>

    <div class="header">
        <h1 id="header-title">è¡Œç¨‹</h1>
        <p>æ±äº¬ä¹‹æ—… 2025</p>
    </div>

    <div class="container">
        
        <div id="tab-1" class="page active">
            <div class="card">
                <h2>ğŸ“… æ–°å¢è¡Œç¨‹</h2>
                <div class="input-row">
                    <input type="time" id="plan-time">
                    <input type="text" id="plan-desc" placeholder="åšä»€éº¼? (ä¾‹å¦‚: åƒæ‹‰éºµ)">
                    <button class="add-btn" onclick="addPlan()">ï¼‹</button>
                </div>
            </div>

            <div class="card">
                <h2>ä»Šæ—¥å®‰æ’</h2>
                <div id="plan-list">
                    </div>
            </div>
        </div>

        <div id="tab-2" class="page">
            <div class="card">
                <h2>ğŸ›ï¸ åŠ å…¥æ¸…å–®</h2>
                <div class="input-row">
                    <input type="text" id="shop-input" placeholder="æƒ³è²·ä»€éº¼? (ä¾‹å¦‚: è—¥å¦)">
                    <button class="add-btn" onclick="addShopItem()">ï¼‹</button>
                </div>
            </div>

            <div class="card">
                <h2>å¾…è²·æ¸…å–®</h2>
                <div id="shopping-list">
                    </div>
            </div>
        </div>

        <div id="tab-3" class="page">
            <div class="card">
                <img src="https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=600" class="spot-img">
                <h2>æ±äº¬éµå¡”</h2>
                <p style="font-size:14px; color:#666;">ç¶“å…¸åœ°æ¨™ï¼Œå»ºè­°é»ƒæ˜å‰å¾€ã€‚</p>
                <a href="https://www.google.com/maps/search/?api=1&query=æ±äº¬éµå¡”" target="_blank" class="map-link">ğŸ“ åœ¨ Google Maps é–‹å•Ÿ</a>
            </div>
            
            <div class="card">
                <img src="https://images.unsplash.com/photo-1524413840807-0c3cb6fa808d?w=600" class="spot-img">
                <h2>æ²³å£æ¹–</h2>
                <p style="font-size:14px; color:#666;">å¯Œå£«å±±æœ€ä½³è§€è³é»ã€‚</p>
                <a href="https://www.google.com/maps/search/?api=1&query=æ²³å£æ¹–" target="_blank" class="map-link">ğŸ“ åœ¨ Google Maps é–‹å•Ÿ</a>
            </div>
        </div>

    </div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchTab(1, 'è¡Œç¨‹')">
            <span class="nav-icon">ğŸ“…</span> è¡Œç¨‹
        </div>
        <div class="nav-item" onclick="switchTab(2, 'è³¼ç‰©')">
            <span class="nav-icon">ğŸ›’</span> è³¼ç‰©
        </div>
        <div class="nav-item" onclick="switchTab(3, 'æ™¯é»')">
            <span class="nav-icon">ğŸ—»</span> æ™¯é»
        </div>
    </div>

    <script>
        // --- åˆå§‹åŒ–è³‡æ–™ (LocalStorage) ---
        // é€™æ˜¯è®“è³‡æ–™ä¸è¦‹çš„é—œéµï¼Œæˆ‘å€‘æœƒæŠŠè³‡æ–™å­˜åœ¨ç€è¦½å™¨è£¡é¢
        
        let shoppingData = JSON.parse(localStorage.getItem('myShopList')) || [
            { id: 1, text: 'EVE æ­¢ç—›è—¥', checked: false },
            { id: 2, text: 'æ±äº¬é¦™è•‰è›‹ç³•', checked: false }
        ];

        let planData = JSON.parse(localStorage.getItem('myPlanList')) || [
            { id: 1, time: '10:00', text: 'æŠµé”æ±äº¬æˆç”°æ©Ÿå ´' },
            { id: 2, time: '12:00', text: 'é£¯åº— Check-in' }
        ];

        // å•Ÿå‹•æ™‚å…ˆç•«ä¸€æ¬¡ç•«é¢
        renderShop();
        renderPlan();

        // --- è³¼ç‰©æ¸…å–®é‚è¼¯ ---
        function renderShop() {
            const list = document.getElementById('shopping-list');
            list.innerHTML = '';
            
            shoppingData.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = `list-item ${item.checked ? 'completed' : ''}`;
                div.onclick = (e) => {
                    if(e.target.className !== 'delete-btn') toggleShop(index);
                };
                
                div.innerHTML = `
                    <div class="checkbox"></div>
                    <span>${item.text}</span>
                    <span class="delete-btn" onclick="deleteShop(${index})">âœ•</span>
                `;
                list.appendChild(div);
            });
            // æ¯æ¬¡ç•«å®Œéƒ½å„²å­˜
            localStorage.setItem('myShopList', JSON.stringify(shoppingData));
        }

        function addShopItem() {
            const input = document.getElementById('shop-input');
            if (input.value.trim() === '') return;
            
            shoppingData.push({ 
                id: Date.now(), 
                text: input.value, 
                checked: false 
            });
            input.value = '';
            renderShop();
        }

        function toggleShop(index) {
            shoppingData[index].checked = !shoppingData[index].checked;
            renderShop();
        }

        function deleteShop(index) {
            if(confirm('ç¢ºå®šåˆªé™¤?')) {
                shoppingData.splice(index, 1);
                renderShop();
            }
        }

        // --- è¡Œç¨‹è¡¨é‚è¼¯ ---
        function renderPlan() {
            const list = document.getElementById('plan-list');
            list.innerHTML = '';
            
            // æ ¹æ“šæ™‚é–“æ’åº
            planData.sort((a, b) => a.time.localeCompare(b.time));

            planData.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'timeline-item';
                div.innerHTML = `
                    <div class="timeline-time">${item.time}</div>
                    <div class="timeline-content">
                        ${item.text}
                        <div style="text-align:right; margin-top:5px;">
                             <span class="delete-btn" onclick="deletePlan(${index})">åˆªé™¤</span>
                        </div>
                    </div>
                `;
                list.appendChild(div);
            });
            localStorage.setItem('myPlanList', JSON.stringify(planData));
        }

        function addPlan() {
            const timeInput = document.getElementById('plan-time');
            const descInput = document.getElementById('plan-desc');
            
            if (!timeInput.value || !descInput.value) {
                alert('è«‹è¼¸å…¥æ™‚é–“å’Œå…§å®¹');
                return;
            }

            planData.push({
                id: Date.now(),
                time: timeInput.value,
                text: descInput.value
            });
            
            descInput.value = '';
            renderPlan();
        }

        function deletePlan(index) {
            if(confirm('ç¢ºå®šåˆªé™¤æ­¤è¡Œç¨‹?')) {
                planData.splice(index, 1);
                renderPlan();
            }
        }

        // --- é é¢åˆ‡æ› ---
        function switchTab(index, title) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            document.getElementById('tab-' + index).classList.add('active');
            document.querySelectorAll('.nav-item')[index-1].classList.add('active');
            document.getElementById('header-title').innerText = title;
        }
    </script>
</body>
</html>